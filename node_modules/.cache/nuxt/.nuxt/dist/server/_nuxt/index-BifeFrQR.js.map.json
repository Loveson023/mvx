{"file":"index-BifeFrQR.js","mappings":"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","names":["_getIcon","_loadIcon","Iconify"],"sources":["../../../../../../@nuxt/icon/dist/runtime/components/shared.js","../../../../../../@nuxt/icon/dist/runtime/components/css.js","../../../../../../@nuxt/icon/dist/runtime/components/svg.js","../../../../../../@nuxt/icon/dist/runtime/components/index.js"],"sourcesContent":["import { computed } from \"vue\";\r\nimport { getIcon as _getIcon, addIcon as _addIcon, loadIcon as _loadIcon } from \"@iconify/vue\";\r\nimport { useAppConfig } from \"#imports\";\r\nimport { init as initClientBundle } from \"#build/nuxt-icon-client-bundle\";\r\nexport { initClientBundle };\r\nexport async function loadIcon(name, timeout) {\r\n  if (!name)\r\n    return null;\r\n  initClientBundle(_addIcon);\r\n  const _icon = _getIcon(name);\r\n  if (_icon)\r\n    return _icon;\r\n  let timeoutWarn;\r\n  const load = _loadIcon(name).catch(() => {\r\n    console.warn(`[Icon] failed to load icon \\`${name}\\``);\r\n    return null;\r\n  });\r\n  if (timeout > 0)\r\n    await Promise.race([\r\n      load,\r\n      new Promise((resolve) => {\r\n        timeoutWarn = setTimeout(() => {\r\n          console.warn(`[Icon] loading icon \\`${name}\\` timed out after ${timeout}ms`);\r\n          resolve();\r\n        }, timeout);\r\n      })\r\n    ]).finally(() => clearTimeout(timeoutWarn));\r\n  else\r\n    await load;\r\n  return _getIcon(name);\r\n}\r\nexport function useResolvedName(getName) {\r\n  const options = useAppConfig().icon;\r\n  const collections = (options.collections || []).sort((a, b) => b.length - a.length);\r\n  return computed(() => {\r\n    const name = getName();\r\n    const bare = name.startsWith(options.cssSelectorPrefix) ? name.slice(options.cssSelectorPrefix.length) : name;\r\n    const resolved = options.aliases?.[bare] || bare;\r\n    if (!resolved.includes(\":\")) {\r\n      const collection = collections.find((c) => resolved.startsWith(c + \"-\"));\r\n      return collection ? collection + \":\" + resolved.slice(collection.length + 1) : resolved;\r\n    }\r\n    return resolved;\r\n  });\r\n}\r\nexport function resolveCustomizeFn(customize, globalCustomize) {\r\n  if (customize === false) return void 0;\r\n  if (customize === true || customize === null) return globalCustomize;\r\n  return customize;\r\n}\r\n","import { addIcon, getIcon as _getIcon } from \"@iconify/vue\";\r\nimport { computed, watch, h, defineComponent } from \"vue\";\r\nimport { getIconCSS } from \"@iconify/utils/lib/css/icon\";\r\nimport { loadIcon, resolveCustomizeFn } from \"./shared.js\";\r\nimport { useAppConfig, useNuxtApp, useHead, useRuntimeConfig, onServerPrefetch } from \"#imports\";\r\nlet cssSelectors;\r\nconst SYMBOL_SERVER_CSS = \"NUXT_ICONS_SERVER_CSS\";\r\nfunction escapeCssSelector(selector) {\r\n  return selector.replace(/([^\\w-])/g, \"\\\\$1\");\r\n}\r\nfunction getAllSelectors() {\r\n  if (cssSelectors)\r\n    return cssSelectors;\r\n  cssSelectors = /* @__PURE__ */ new Set();\r\n  const filter = (selector) => {\r\n    selector = selector.replace(/^:where\\((.*)\\)$/, \"$1\").trim();\r\n    if (selector.startsWith(\".\")) {\r\n      return selector;\r\n    }\r\n  };\r\n  const scanCssRules = (rules) => {\r\n    if (!rules?.length)\r\n      return;\r\n    for (const rule of rules) {\r\n      if (rule?.cssRules) {\r\n        scanCssRules(rule.cssRules);\r\n      }\r\n      const selectorRaw = rule?.selectorText;\r\n      if (typeof selectorRaw === \"string\") {\r\n        const selector = filter(selectorRaw);\r\n        if (selector)\r\n          cssSelectors.add(selector);\r\n      }\r\n    }\r\n  };\r\n  if (typeof document !== \"undefined\") {\r\n    for (const styleSheet of document.styleSheets) {\r\n      try {\r\n        const rules = styleSheet.cssRules || styleSheet.rules;\r\n        scanCssRules(rules);\r\n      } catch {\r\n      }\r\n    }\r\n  }\r\n  return cssSelectors;\r\n}\r\nexport const NuxtIconCss = /* @__PURE__ */ defineComponent({\r\n  name: \"NuxtIconCss\",\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    customize: {\r\n      type: [Function, Boolean, null],\r\n      default: null,\r\n      required: false\r\n    }\r\n  },\r\n  setup(props) {\r\n    const nuxt = useNuxtApp();\r\n    const options = useAppConfig().icon;\r\n    const cssClass = computed(() => props.name ? options.cssSelectorPrefix + props.name : \"\");\r\n    function getIcon(name) {\r\n      if (!name)\r\n        return;\r\n      const icon = _getIcon(name);\r\n      if (icon)\r\n        return icon;\r\n      const payload = nuxt.payload?.data?.[name];\r\n      if (payload) {\r\n        addIcon(name, payload);\r\n        return payload;\r\n      }\r\n    }\r\n    const selector = computed(() => \".\" + escapeCssSelector(cssClass.value));\r\n    function getCSS(icon, withLayer = true) {\r\n      let iconSelector = selector.value;\r\n      if (options.cssWherePseudo) {\r\n        iconSelector = `:where(${iconSelector})`;\r\n      }\r\n      const css = getIconCSS(icon, {\r\n        iconSelector,\r\n        format: \"compressed\",\r\n        customise: resolveCustomizeFn(props.customize, options.customize)\r\n      });\r\n      if (options.cssLayer && withLayer) {\r\n        return `@layer ${options.cssLayer} { ${css} }`;\r\n      }\r\n      return css;\r\n    }\r\n    if (import.meta.client) {\r\n      const selectors = getAllSelectors();\r\n      async function mountCSS(icon) {\r\n        if (selectors.has(selector.value))\r\n          return;\r\n        if (typeof document === \"undefined\")\r\n          return;\r\n        const style = document.createElement(\"style\");\r\n        style.textContent = getCSS(icon);\r\n        if (import.meta.dev) {\r\n          style.dataset.nuxtIconDev = props.name;\r\n        }\r\n        const firstStyle = document.head.querySelector('style, link[rel=\"stylesheet\"]');\r\n        if (firstStyle)\r\n          document.head.insertBefore(style, firstStyle);\r\n        else\r\n          document.head.appendChild(style);\r\n        selectors.add(selector.value);\r\n      }\r\n      watch(\r\n        () => props.name,\r\n        () => {\r\n          if (selectors.has(selector.value)) {\r\n            return;\r\n          }\r\n          const data = getIcon(props.name);\r\n          if (data) {\r\n            mountCSS(data);\r\n          } else {\r\n            loadIcon(props.name, import.meta.server ? options.fetchTimeout : -1).then((data2) => {\r\n              if (data2)\r\n                mountCSS(data2);\r\n            }).catch(() => null);\r\n          }\r\n        },\r\n        { immediate: true }\r\n      );\r\n    }\r\n    onServerPrefetch(async () => {\r\n      if (import.meta.server) {\r\n        const configs = useRuntimeConfig().icon || {};\r\n        if (!configs?.serverKnownCssClasses?.includes(cssClass.value)) {\r\n          const icon = await loadIcon(props.name, options.fetchTimeout).catch(() => null);\r\n          if (!icon)\r\n            return null;\r\n          let ssrCSS = nuxt.vueApp._context.provides[SYMBOL_SERVER_CSS];\r\n          if (!ssrCSS) {\r\n            ssrCSS = nuxt.vueApp._context.provides[SYMBOL_SERVER_CSS] = /* @__PURE__ */ new Map();\r\n            nuxt.runWithContext(() => {\r\n              useHead({\r\n                style: [\r\n                  () => {\r\n                    const sep = import.meta.dev ? \"\\n\" : \"\";\r\n                    let css = Array.from(ssrCSS.values()).sort().join(sep);\r\n                    if (options.cssLayer) {\r\n                      css = `@layer ${options.cssLayer} {${sep}${css}${sep}}`;\r\n                    }\r\n                    return { innerHTML: css };\r\n                  }\r\n                ]\r\n              }, {\r\n                tagPriority: \"low\"\r\n              });\r\n            });\r\n          }\r\n          if (props.name && !ssrCSS.has(props.name)) {\r\n            const css = getCSS(icon, false);\r\n            ssrCSS.set(props.name, css);\r\n          }\r\n          return null;\r\n        }\r\n      }\r\n    });\r\n    return () => h(\"span\", { class: [\"iconify\", cssClass.value] });\r\n  }\r\n});\r\n","import { Icon as Iconify, addIcon } from \"@iconify/vue\";\r\nimport { h } from \"vue\";\r\nimport { initClientBundle, loadIcon, useResolvedName, resolveCustomizeFn } from \"./shared.js\";\r\nimport { useAsyncData, useNuxtApp, defineComponent, useAppConfig, onServerPrefetch } from \"#imports\";\r\nexport const NuxtIconSvg = /* @__PURE__ */ defineComponent({\r\n  name: \"NuxtIconSvg\",\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    customize: {\r\n      type: [Function, Boolean, null],\r\n      default: null,\r\n      required: false\r\n    }\r\n  },\r\n  setup(props, { slots }) {\r\n    const nuxt = useNuxtApp();\r\n    const options = useAppConfig().icon;\r\n    const name = useResolvedName(() => props.name);\r\n    const storeKey = \"i-\" + name.value;\r\n    if (name.value) {\r\n      onServerPrefetch(async () => {\r\n        if (import.meta.server) {\r\n          await useAsyncData(\r\n            storeKey,\r\n            async () => await loadIcon(name.value, options.fetchTimeout),\r\n            { deep: false }\r\n          );\r\n        }\r\n      });\r\n      if (import.meta.client) {\r\n        const payload = nuxt.payload.data[storeKey];\r\n        if (payload) {\r\n          addIcon(name.value, payload);\r\n        } else {\r\n          initClientBundle(addIcon);\r\n        }\r\n      }\r\n    }\r\n    return () => h(Iconify, {\r\n      icon: name.value,\r\n      ssr: true,\r\n      // Iconify uses `customise`, where we expose `customize` for consistency\r\n      customise: resolveCustomizeFn(props.customize, options.customize)\r\n    }, slots);\r\n  }\r\n});\r\n","import { computed, defineComponent, h } from \"vue\";\r\nimport { NuxtIconCss } from \"./css.js\";\r\nimport { NuxtIconSvg } from \"./svg.js\";\r\nimport { useResolvedName } from \"./shared.js\";\r\nimport { useAppConfig, useNuxtApp } from \"#imports\";\r\nexport default defineComponent({\r\n  name: \"NuxtIcon\",\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    mode: {\r\n      type: String,\r\n      required: false,\r\n      default: null\r\n    },\r\n    size: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: null\r\n    },\r\n    customize: {\r\n      type: [Function, Boolean, null],\r\n      default: null,\r\n      required: false\r\n    }\r\n  },\r\n  setup(props, { slots }) {\r\n    const nuxtApp = useNuxtApp();\r\n    const runtimeOptions = useAppConfig().icon;\r\n    const name = useResolvedName(() => props.name);\r\n    const component = computed(\r\n      () => nuxtApp.vueApp?.component(name.value) || ((props.mode || runtimeOptions.mode) === \"svg\" ? NuxtIconSvg : NuxtIconCss)\r\n    );\r\n    const style = computed(() => {\r\n      const size = props.size || runtimeOptions.size;\r\n      return size ? { fontSize: Number.isNaN(+size) ? size : size + \"px\" } : null;\r\n    });\r\n    return () => h(\r\n      component.value,\r\n      {\r\n        ...runtimeOptions.attrs,\r\n        name: name.value,\r\n        class: runtimeOptions.class,\r\n        style: style.value,\r\n        customize: props.customize\r\n      },\r\n      slots\r\n    );\r\n  }\r\n});\r\n"],"version":3}