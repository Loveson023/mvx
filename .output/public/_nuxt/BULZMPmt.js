import{aP as h,ae as O,ad as P,c as g,t as f,a8 as u,ap as l,U as y,$ as S,af as x,aQ as w,r as D,M as T}from"#entry";function _(e){return O()?(P(e),!0):!1}function z(e){let n=0,r,t;const o=()=>{n-=1,t&&n<=0&&(t.stop(),r=void 0,t=void 0)};return(...i)=>(n+=1,t||(t=h(!0),r=t.run(()=>e(...i))),_(o),r)}function G(e,n){if(typeof Symbol<"u"){const r={...e};return Object.defineProperty(r,Symbol.iterator,{enumerable:!1,value(){let t=0;return{next:()=>({value:n[t++],done:t>n.length})}}}),r}else return Object.assign([...n],e)}function C(e){if(!l(e))return y(e);const n=new Proxy({},{get(r,t,o){return S(Reflect.get(e.value,t,o))},set(r,t,o){return l(e.value[t])&&!l(o)?e.value[t].value=o:e.value[t]=o,!0},deleteProperty(r,t){return Reflect.deleteProperty(e.value,t)},has(r,t){return Reflect.has(e.value,t)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return y(n)}function v(e){return C(g(e))}function U(e,...n){const r=n.flat(),t=r[0];return v(()=>Object.fromEntries(typeof t=="function"?Object.entries(f(e)).filter(([o,i])=>!t(u(i),o)):Object.entries(f(e)).filter(o=>!r.includes(o[0]))))}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $=e=>typeof e<"u",p=()=>{};function E(...e){if(e.length!==1)return x(...e);const n=e[0];return typeof n=="function"?w(T(()=>({get:n,set:p}))):D(n)}function A(e,...n){const r=n.flat(),t=r[0];return v(()=>Object.fromEntries(typeof t=="function"?Object.entries(f(e)).filter(([o,i])=>t(u(i),o)):r.map(o=>[o,E(e,o)])))}function F(e,n){function r(...t){return new Promise((o,i)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(o).catch(i)})}return r}function W(e,n={}){let r,t,o=p;const i=s=>{clearTimeout(s),o(),o=p};let m;return s=>{const d=u(e),a=u(n.maxWait);return r&&i(r),d<=0||a!==void 0&&a<=0?(t&&(i(t),t=void 0),Promise.resolve(s())):new Promise((c,b)=>{o=n.rejectOnCancel?b:c,m=s,a&&!t&&(t=setTimeout(()=>{r&&i(r),t=void 0,c(m())},a)),r=setTimeout(()=>{t&&i(t),t=void 0,c(s())},d)})}}function k(e){const n=Object.create(null);return r=>n[r]||(n[r]=e(r))}const K=/-(\w)/g,I=k(e=>e.replace(K,(n,r)=>r?r.toUpperCase():""));function M(e,n=200,r={}){return F(W(n,r),e)}export{U as a,z as b,I as c,$ as i,G as m,A as r,M as u};
