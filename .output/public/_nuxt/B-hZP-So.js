import{r as h,w as B,g as q,e as i,k as $,d,h as g,q as e,m as D,v as x,D as y,s as l,a6 as P,a7 as E,a4 as L,X as C,i as n,$ as t,F,p as T}from"#entry";import{e as U}from"./DdfX6h-A.js";import{a as H}from"./C2FtWGnT.js";import{D as k}from"./Cfl45Ncw.js";import{B as I}from"./D6UtAn5g.js";import{_ as M}from"./DlAUqK2U.js";import{u as S}from"./BQOyjEDl.js";import{M as j}from"./D9cJaz2g.js";import{H as R}from"./LVo1Ea_k.js";import{c as w}from"./CmXnf57N.js";import{B as z,a as O}from"./CzJiccdZ.js";import"./R-lXtGyY.js";import"./CM_R6RnN.js";import"./BrWNTpTh.js";/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=w("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=w("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=w("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),J={key:0,class:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50"},Q={class:"bg-[#2a2a2a] rounded-2xl p-6 w-[90%] max-w-md border border-gray-700 relative"},X={key:0,class:"text-green-500 mt-3"},G={key:1,class:"text-red-500 mt-3"},K={__name:"FormsListingsEnquiryForm",props:{show:{type:Boolean,required:!0},property:{type:Object,required:!0}},emits:["close"],setup(v,{emit:m}){const p=v,f=m,r=h({name:"",email:"",phone:"",message:""}),u=h(""),s=h("");B(()=>p.property,c=>{c?.title&&(r.value.message=`Hi, I am interested in ${c.title}, reference_number: ${c.ref_number}, UUID: ${c.uuid}`)},{immediate:!0});async function _(){if(u.value="",s.value="",!r.value.name||!r.value.email||!r.value.phone){s.value="Please fill all required fields before submitting.";return}const c={name:r.value.name,email:r.value.email,mobile:r.value.phone,message:r.value.message,listing_uuid:p.property?.uuid||null,listing_ref_number:p.property?.ref_number||null};try{const a=await fetch("https://crm.mavrixproperties.ae/backend/api/create-lead-from-external-form/source/95b54971-0026-4fa6-949a-4053dda21830",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),o=await a.json();a.ok?(u.value="Thank you! Our team will get back to you soon.",r.value={name:"",email:"",phone:"",message:""},setTimeout(()=>f("close"),1500)):(console.error("CRM Error:",o),s.value=o?.message||"Failed to submit. Please try again.")}catch(a){console.error("Network Error:",a),s.value="Network error. Please try again later."}}return(c,a)=>(i(),q(P,{name:"fade"},{default:$(()=>[v.show?(i(),d("div",J,[e("div",Q,[e("button",{onClick:a[0]||(a[0]=o=>c.$emit("close")),class:"absolute top-3 right-3 text-gray-400 hover:text-white cursor-pointer"}," âœ• "),a[6]||(a[6]=e("h2",{class:"text-xl font-semibold mb-4 text-gray-100"},"Enquire Now",-1)),e("form",{onSubmit:D(_,["prevent"]),class:"flex flex-col gap-4"},[x(e("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>r.value.name=o),type:"text",placeholder:"Your Name",class:"bg-[#1f1f1f] border border-gray-700 rounded-lg p-3 text-gray-200",required:""},null,512),[[y,r.value.name]]),x(e("input",{"onUpdate:modelValue":a[2]||(a[2]=o=>r.value.email=o),type:"email",placeholder:"Your Email",class:"bg-[#1f1f1f] border border-gray-700 rounded-lg p-3 text-gray-200",required:""},null,512),[[y,r.value.email]]),x(e("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>r.value.phone=o),type:"tel",placeholder:"Your Phone",class:"bg-[#1f1f1f] border border-gray-700 rounded-lg p-3 text-gray-200",required:""},null,512),[[y,r.value.phone]]),x(e("textarea",{"onUpdate:modelValue":a[4]||(a[4]=o=>r.value.message=o),class:"bg-[#1f1f1f] border border-gray-700 rounded-lg p-3 text-gray-200 h-28",required:""},null,512),[[y,r.value.message]]),a[5]||(a[5]=e("button",{type:"submit",class:"button-mavrix text-white py-3 cursor-pointer rounded-lg font-medium transition"}," SUBMIT ENQUIRY ",-1))],32),u.value?(i(),d("p",X,l(u.value),1)):g("",!0),s.value?(i(),d("p",G,l(s.value),1)):g("",!0)])])):g("",!0)]),_:1}))}},W=M(K,[["__scopeId","data-v-406d1839"]]),Z={class:"min-h-screen bg-[#212121] pt-16 text-gray-200"},ee={class:"container mx-auto px-4"},te={key:0,class:"text-center text-gray-400 py-20 text-lg"},se={key:1,class:"text-center text-red-500 py-20 text-lg"},re={key:2,class:"bg-[#212121] shadow-lg overflow-hidden rounded-2xl"},ae=["src"],oe={class:"p-6 md:p-10"},le={class:"grid grid-cols-1 md:grid-cols-3 gap-10"},ie={class:"md:col-span-2"},ne={class:"text-3xl md:text-4xl font-bold mb-2 text-gray-100"},de={class:"flex items-center gap-2 text-gray-400 mb-4"},ce={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-6 text-gray-300"},ue={class:"flex items-center gap-2"},me={class:"flex items-center gap-2"},pe={class:"flex items-center gap-2"},ge={class:"flex items-center gap-2"},xe={class:"flex items-center gap-2"},ye={class:"flex items-center gap-2"},he=["innerHTML"],ve={key:0,class:"mt-8"},fe={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},_e={class:"bg-[#2a2a2a] p-6 sticky top-28 mavrix-gradient-border h-fit flex flex-col gap-6"},be={class:"flex items-center gap-4"},we=["src"],ke={class:"font-semibold text-gray-100"},Ne={class:"text-sm text-gray-400"},qe={class:"text-sm text-gray-400"},Me=["href"],Ae={key:3,class:"text-center text-gray-400 py-20 text-lg"},Be={__name:"[...slug]",async setup(v){let m,p;const f=E(),r=h(!1),u=U(f.params.slug),{data:s,pending:_,error:c}=([m,p]=L(()=>S(`property-${u}`,()=>H(u))),m=await m,p(),m);return C(()=>({title:s.value?.title||"Property Details | Mavrix Properties",meta:[{name:"description",content:s.value?.description?.slice(0,150)||"Explore exclusive Dubai properties at Nexus Properties."}]})),(a,o)=>(i(),d("section",Z,[n(k),n(I),e("div",ee,[t(_)?(i(),d("div",te," Loading property details... ")):t(c)?(i(),d("div",se," Failed to load property details. Please try again later. ")):t(s)?(i(),d("div",re,[e("img",{src:t(s).photos?.[0]?.full_path||"https://placehold.co/1200x500",alt:"Property Image",class:"w-full h-[450px] object-cover rounded-t-2xl"},null,8,ae),e("div",oe,[e("div",le,[e("div",ie,[e("h1",ne,l(t(s).title),1),e("div",de,[n(t(j),{class:"w-5 h-5 text-mavrix"}),e("p",null,l(t(s).location?.full_path||"Dubai, UAE"),1)]),e("div",ce,[e("div",ue,[n(t(R),{class:"w-5 h-5 text-mavrix"}),e("span",null,l(t(s).category||"N/A"),1)]),e("div",me,[n(t(N),{class:"w-5 h-5 text-mavrix"}),e("span",null,l(t(s).type||"N/A"),1)]),e("div",pe,[n(t(z),{class:"w-5 h-5 text-mavrix"}),e("span",null,l(t(s).bed?.name||"N/A")+" Bedrooms",1)]),e("div",ge,[n(t(O),{class:"w-5 h-5 text-mavrix"}),e("span",null,l(t(s).bath?.name||"N/A")+" Bathrooms",1)]),e("div",xe,[n(t(Y),{class:"w-5 h-5 text-mavrix"}),e("span",null,"AED "+l(t(s).price?.toLocaleString()||"N/A"),1)]),e("div",ye,[n(t(N),{class:"w-5 h-5 text-mavrix"}),e("span",null,l(t(s).completion_status||"Ready"),1)])]),e("div",{class:"prose prose-invert max-w-none text-gray-300 mb-10",innerHTML:t(s).description},null,8,he),t(s).amenities?.length?(i(),d("div",ve,[o[2]||(o[2]=e("h2",{class:"text-xl font-semibold text-gray-100 mb-4"}," Amenities ",-1)),e("div",fe,[(i(!0),d(F,null,T(t(s).amenities,(b,A)=>(i(),d("div",{key:A,class:"flex items-center button-mavrix-outline p-6 rounded-lg gap-2 text-gray-300 hover:text-mavrix transition"},[n(t(V),{class:"w-5 h-5 text-mavrix"}),e("span",null,l(b.name),1)]))),128))])])):g("",!0)]),e("div",_e,[e("div",be,[e("img",{src:t(s).user?.thumbnail_image_path||"https://placehold.co/100x100",alt:"Agent",class:"w-16 h-16 rounded-full object-cover border border-gray-600"},null,8,we),e("div",null,[e("p",ke,l(t(s).user?.name),1),e("p",Ne,l(t(s).user?.designation),1),e("p",qe,l(t(s).user?.mobile),1)])]),e("a",{href:`tel:${t(s).user?.mobile}`,class:"button-mavrix cursor-pointer text-white py-2 px-5 rounded-lg font-medium text-center"}," Call Agent ",8,Me),e("button",{onClick:o[0]||(o[0]=b=>r.value=!0),class:"button-mavrix-outline cursor-pointer text-white py-2 px-5 font-medium transition"}," Enquire Now ")])])])])):(i(),d("div",Ae," Property not found. "))]),t(s)?(i(),q(W,{key:0,show:r.value,property:t(s),onClose:o[1]||(o[1]=b=>r.value=!1)},null,8,["show","property"])):g("",!0),n(k)]))}},ze=M(Be,[["__scopeId","data-v-02c92d82"]]);export{ze as default};
