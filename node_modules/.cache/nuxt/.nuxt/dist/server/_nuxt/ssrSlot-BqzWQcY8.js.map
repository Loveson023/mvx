{"version":3,"file":"ssrSlot-BqzWQcY8.js","sources":["../../../../../../@nuxtjs/mdc/dist/runtime/utils/node.js","../../../../../../@nuxtjs/mdc/dist/runtime/utils/ssrSlot.js"],"sourcesContent":["export const TEXT_TAGS = [\"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"li\"];\r\nexport function isTag(vnode, tag) {\r\n  if (vnode.type === tag) {\r\n    return true;\r\n  }\r\n  if (typeof vnode.type === \"object\" && vnode.type.tag === tag) {\r\n    return true;\r\n  }\r\n  if (vnode.tag === tag) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nexport function isText(vnode) {\r\n  return isTag(vnode, \"text\") || isTag(vnode, Symbol.for(\"v-txt\"));\r\n}\r\nexport function nodeChildren(node) {\r\n  if (Array.isArray(node.children) || typeof node.children === \"string\") {\r\n    return node.children;\r\n  }\r\n  if (typeof node.children?.default === \"function\") {\r\n    return node.children.default();\r\n  }\r\n  return [];\r\n}\r\nexport function nodeTextContent(node) {\r\n  if (!node) {\r\n    return \"\";\r\n  }\r\n  if (Array.isArray(node)) {\r\n    return node.map(nodeTextContent).join(\"\");\r\n  }\r\n  if (isText(node)) {\r\n    return node.value || node.children || \"\";\r\n  }\r\n  const children = nodeChildren(node);\r\n  if (Array.isArray(children)) {\r\n    return children.map(nodeTextContent).filter(Boolean).join(\"\");\r\n  }\r\n  return \"\";\r\n}\r\nexport function unwrap(vnode, tags = []) {\r\n  if (Array.isArray(vnode)) {\r\n    return vnode.flatMap((node) => unwrap(node, tags));\r\n  }\r\n  let result = vnode;\r\n  if (tags.some((tag) => tag === \"*\" || isTag(vnode, tag))) {\r\n    result = nodeChildren(vnode) || vnode;\r\n    if (!Array.isArray(result) && TEXT_TAGS.some((tag) => isTag(vnode, tag))) {\r\n      result = [result];\r\n    }\r\n  }\r\n  return result;\r\n}\r\nfunction _flatUnwrap(vnodes, tags = []) {\r\n  vnodes = Array.isArray(vnodes) ? vnodes : [vnodes];\r\n  if (!tags.length) {\r\n    return vnodes;\r\n  }\r\n  return vnodes.flatMap((vnode) => _flatUnwrap(unwrap(vnode, [tags[0]]), tags.slice(1))).filter((vnode) => !(isText(vnode) && nodeTextContent(vnode).trim() === \"\"));\r\n}\r\nexport function flatUnwrap(vnodes, tags = []) {\r\n  if (typeof tags === \"string\") {\r\n    tags = tags.split(/[,\\s]/).map((tag) => tag.trim()).filter(Boolean);\r\n  }\r\n  if (!tags.length) {\r\n    return vnodes;\r\n  }\r\n  return _flatUnwrap(vnodes, tags).reduce((acc, item) => {\r\n    if (isText(item)) {\r\n      if (typeof acc[acc.length - 1] === \"string\") {\r\n        acc[acc.length - 1] += item.children;\r\n      } else {\r\n        acc.push(item.children);\r\n      }\r\n    } else {\r\n      acc.push(item);\r\n    }\r\n    return acc;\r\n  }, []);\r\n}\r\n","import { ssrRenderSlot as _ssrRenderSlot } from \"vue/server-renderer\";\r\nimport { flatUnwrap } from \"./node.js\";\r\nexport const ssrRenderSlot = (slots, name, props, fallbackRenderFn, push, parentComponent, slotScopeId) => {\r\n  if (slots[name]) {\r\n    return _ssrRenderSlot({ ...slots, [name]: () => flatUnwrap(slots[name](), props?.unwrap || props?.mdcUnwrap) }, name, props, fallbackRenderFn, push, parentComponent, slotScopeId);\r\n  }\r\n  return _ssrRenderSlot(slots, name, props, fallbackRenderFn, push, parentComponent, slotScopeId);\r\n};\r\n"],"names":["_ssrRenderSlot"],"mappings":";AAAO,MAAM,YAAY,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAChE,SAAS,MAAM,OAAO,KAAK;AAChC,MAAI,MAAM,SAAS,KAAK;AACtB,WAAO;AAAA,EACT;AACA,MAAI,OAAO,MAAM,SAAS,YAAY,MAAM,KAAK,QAAQ,KAAK;AAC5D,WAAO;AAAA,EACT;AACA,MAAI,MAAM,QAAQ,KAAK;AACrB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AACO,SAAS,OAAO,OAAO;AAC5B,SAAO,MAAM,OAAO,MAAM,KAAK,MAAM,OAAO,OAAO,IAAI,OAAO,CAAC;AACjE;AACO,SAAS,aAAa,MAAM;AACjC,MAAI,MAAM,QAAQ,KAAK,QAAQ,KAAK,OAAO,KAAK,aAAa,UAAU;AACrE,WAAO,KAAK;AAAA,EACd;AACA,MAAI,OAAO,KAAK,UAAU,YAAY,YAAY;AAChD,WAAO,KAAK,SAAS;EACvB;AACA,SAAO;AACT;AACO,SAAS,gBAAgB,MAAM;AACpC,MAAI,CAAC,MAAM;AACT,WAAO;AAAA,EACT;AACA,MAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,WAAO,KAAK,IAAI,eAAe,EAAE,KAAK,EAAE;AAAA,EAC1C;AACA,MAAI,OAAO,IAAI,GAAG;AAChB,WAAO,KAAK,SAAS,KAAK,YAAY;AAAA,EACxC;AACA,QAAM,WAAW,aAAa,IAAI;AAClC,MAAI,MAAM,QAAQ,QAAQ,GAAG;AAC3B,WAAO,SAAS,IAAI,eAAe,EAAE,OAAO,OAAO,EAAE,KAAK,EAAE;AAAA,EAC9D;AACA,SAAO;AACT;AACO,SAAS,OAAO,OAAO,OAAO,IAAI;AACvC,MAAI,MAAM,QAAQ,KAAK,GAAG;AACxB,WAAO,MAAM,QAAQ,CAAC,SAAS,OAAO,MAAM,IAAI,CAAC;AAAA,EACnD;AACA,MAAI,SAAS;AACb,MAAI,KAAK,KAAK,CAAC,QAAQ,QAAQ,OAAO,MAAM,OAAO,GAAG,CAAC,GAAG;AACxD,aAAS,aAAa,KAAK,KAAK;AAChC,QAAI,CAAC,MAAM,QAAQ,MAAM,KAAK,UAAU,KAAK,CAAC,QAAQ,MAAM,OAAO,GAAG,CAAC,GAAG;AACxE,eAAS,CAAC,MAAM;AAAA,IAClB;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,YAAY,QAAQ,OAAO,IAAI;AACtC,WAAS,MAAM,QAAQ,MAAM,IAAI,SAAS,CAAC,MAAM;AACjD,MAAI,CAAC,KAAK,QAAQ;AAChB,WAAO;AAAA,EACT;AACA,SAAO,OAAO,QAAQ,CAAC,UAAU,YAAY,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,UAAU,EAAE,OAAO,KAAK,KAAK,gBAAgB,KAAK,EAAE,KAAI,MAAO,GAAG;AACnK;AACO,SAAS,WAAW,QAAQ,OAAO,IAAI;AAC5C,MAAI,OAAO,SAAS,UAAU;AAC5B,WAAO,KAAK,MAAM,OAAO,EAAE,IAAI,CAAC,QAAQ,IAAI,KAAI,CAAE,EAAE,OAAO,OAAO;AAAA,EACpE;AACA,MAAI,CAAC,KAAK,QAAQ;AAChB,WAAO;AAAA,EACT;AACA,SAAO,YAAY,QAAQ,IAAI,EAAE,OAAO,CAAC,KAAK,SAAS;AACrD,QAAI,OAAO,IAAI,GAAG;AAChB,UAAI,OAAO,IAAI,IAAI,SAAS,CAAC,MAAM,UAAU;AAC3C,YAAI,IAAI,SAAS,CAAC,KAAK,KAAK;AAAA,MAC9B,OAAO;AACL,YAAI,KAAK,KAAK,QAAQ;AAAA,MACxB;AAAA,IACF,OAAO;AACL,UAAI,KAAK,IAAI;AAAA,IACf;AACA,WAAO;AAAA,EACT,GAAG,CAAA,CAAE;AACP;AC9EY,MAAC,gBAAgB,CAAC,OAAO,MAAM,OAAO,kBAAkB,MAAM,iBAAiB,gBAAgB;AACzG,MAAI,MAAM,IAAI,GAAG;AACf,WAAOA,gBAAe,EAAE,GAAG,OAAO,CAAC,IAAI,GAAG,MAAM,WAAW,MAAM,IAAI,KAAK,OAAO,UAAU,OAAO,SAAS,EAAC,GAAI,MAAM,OAAO,kBAAkB,MAAM,iBAAiB,WAAW;AAAA,EACnL;AACA,SAAOA,gBAAe,OAAO,MAAM,OAAO,kBAAkB,MAAM,iBAAiB,WAAW;AAChG;"}