{"version":3,"file":"api-properties-BFddppRO.js","sources":["../../../../../../../app/components/properties/PropertyList.vue","../../../../../../../app/pages/properties/api-properties.vue"],"sourcesContent":["<template>\r\n  <div class=\"border theme-light theme-dark shadow hover:shadow-lg transition overflow-hidden\">\r\n    <img\r\n      :src=\"property.images[0]\"\r\n      :alt=\"property.title\"\r\n      class=\"h-48 w-full object-cover\"\r\n    />\r\n    <div class=\"p-4 bg-black\">\r\n      <NuxtLink\r\n        :to=\"`/properties/${property.slug}`\"\r\n        class=\"block text-lg text-light font-semibold mt-3 hover:text-[#ffd700] transition\"\r\n      >\r\n        {{ property.title }}\r\n      </NuxtLink>\r\n      <p class=\"text-theme-light text-theme-dark text-sm\">{{ property.location }}</p>\r\n\r\n      <div class=\"mt-2 text-gray-200 text-sm\">\r\n        <p>{{ property.size }} | {{ property.built_size }}</p>\r\n        <p class=\"font-semibold text-mavrix mt-1\">{{ property.price }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefineProps({\r\n  property: Object\r\n})\r\n</script>\r\n","<template>\r\n  <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-6\">\r\n    <PropertyList\r\n      v-for=\"item in properties\"\r\n      :key=\"item.id\"\r\n      :property=\"item\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<!-- <script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue'\r\nimport PropertyList from '~/components/properties/PropertyList.vue'\r\n// import PropertyCard from '~/components/PropertyCard.vue'\r\n\r\nconst properties = ref([])\r\n\r\nonMounted(async () => {\r\n</template> -->\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue'\r\nimport PropertyList from '~/components/properties/PropertyList.vue'\r\n// import PropertyCard from '~/components/PropertyCard.vue'\r\n\r\nconst properties = ref([])\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const res = await fetch('https://elist.solz.cloud/backend/api/external/external-listings?page=1&itemsPerPage=20')\r\n    const json = await res.json()\r\n    if (json.status === 200) {\r\n      // Map API data to match your PropertyCard props\r\n      properties.value = json.data.map(item => ({\r\n        id: item.id,\r\n        title: item.title,\r\n        slug: item.slug, // or custom slug logic if needed\r\n        location: item.location?.full_path || 'Dubai, UAE',\r\n        price: `AED ${item.price?.toLocaleString()}`,\r\n        images: item.gallery && item.gallery.length > 0 \r\n          ? item.gallery.map(img => img.path) \r\n          : ['/mavrix_properties.png'], // fallback image\r\n        plot_size: item.plot_size || 'N/A',\r\n        area: item.built_size ? `${item.built_size} sq.ft` : 'N/A'\r\n      }))\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching listings:', error)\r\n  }\r\n})\r\n</script>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_push","_parent","_ssrInterpolate","_createTextVNode","_toDisplayString","_ssrRenderList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;mBACOA,eAAAC,WAAA,EAAA,OAAM,kFAAA,GAAiF,MAAA,CAAA,uBAEvF,OAAK,QAAA,SAAS,OAAM,CAAA,CAAA,kBACpB,OAAK,QAAA,SAAS,KAAK;;QAKjB,IAAE,eAAiB,QAAA,SAAS,IAAI;AAAA,QACjC,OAAM;AAAA,MAAA;yBAFR,CAKW,GAAAC,QAAAC,UAAA,aAAA;;AADND,mBAAA,GAAAE,eAAA,QAAA,SAAS,KAAK,CAAA,EAAA;AAAA;;cAAdC,gBAAAC,gBAAA,QAAA,SAAS,KAAK,GAAA,CAAA;AAAA,YAAA;AAAA;;;;mEAEoCF,eAAA,QAAA,SAAS,QAAQ,mDAGhEA,eAAA,QAAA,SAAS,IAAI,OAASA,eAAA,QAAA,SAAS,UAAU,kDACFA,eAAA,QAAA,SAAS,KAAK;;;;;;;;;;;;;;ACOnE,UAAM,aAAa,IAAI,EAAE;;AAxBlB,YAAA,OAAAJ,eAAAC,WAAA,EAAA,OAAM,8DAA0D,MAAA,CAAA,CAAA,WAAA;AAElDM,oBAAA,WAAA,QAAR,SAAI;;UACV,KAAK,KAAK;AAAA,UACV,UAAU;AAAA,QAAA;;;;;;;;;;;;"}