import{_ as x}from"./BrWNTpTh.js";import{D as m}from"./Cfl45Ncw.js";import{B as b}from"./D6UtAn5g.js";import{r as _,a0 as l,o as M,d as c,e as d,q as o,F as k,p as w,s as p,i as a,k as L}from"#entry";import{g as $}from"./C2FtWGnT.js";import{_ as B}from"./DlAUqK2U.js";import"./CM_R6RnN.js";import"./LVo1Ea_k.js";import"./CmXnf57N.js";import"./R-lXtGyY.js";const D={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},P={class:"space-y-6 overflow-y-auto h-[400px] lg:h-[calc(100vh-120px)] pr-2 custom-scrollbar"},j=["onMouseenter","onMouseleave"],z=["src","alt"],A={class:"p-4"},E={class:"text-lg font-semibold truncate"},I={class:"text-sm text-gray-400 mt-1"},S={class:"text-sm mt-2 text-amber-400 font-semibold"},y={__name:"PropertiesMapsPropertyMap",setup(h){const r=_([]),i=_(null),n=_([]),f=l.icon({iconUrl:"/Mavrix.svg",iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]});M(async()=>{r.value=await $(),i.value=l.map("property-map",{center:[25.2048,55.2708],zoom:10}),l.tileLayer("https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:"Â© Mavrix Luxury Properties"}).addTo(i.value);const s=l.latLngBounds([]);r.value.forEach(t=>{if(!t.latitude||!t.longitude)return;const e=`
      <div style="max-width:200px">
        <img src="${t.photos?.[0]?.thumbnail_path||"/placeholder.jpg"}" 
          class="w-full h-24 object-cover rounded mb-2" />
        <strong>${t.title||"Property"}</strong>
        <p style="font-size:12px;color:gray;">AED ${t.price?.toLocaleString()||"N/A"}</p>
      </div>
    `,u=l.marker([t.latitude,t.longitude],{icon:f}).addTo(i.value).bindPopup(e);n.value.push({id:t.id,marker:u}),s.extend([t.latitude,t.longitude])}),s.isValid()&&i.value.fitBounds(s,{padding:[50,50]})});function g(s){const t=n.value.find(e=>e.id===s);t&&t.marker.setZIndexOffset(1e3)}function v(s){const t=n.value.find(e=>e.id===s);t&&t.marker.setZIndexOffset(0)}return(s,t)=>(d(),c("div",D,[t[0]||(t[0]=o("div",{id:"property-map",class:"h-[400px] lg:h-[calc(100vh-120px)] rounded-xl overflow-hidden sticky top-24 z-0"},null,-1)),o("div",P,[(d(!0),c(k,null,w(r.value,e=>(d(),c("div",{key:e.id,class:"bg-neutral-900 text-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",onMouseenter:u=>g(e.id),onMouseleave:u=>v(e.id)},[o("img",{src:e.photos?.[0]?.thumbnail_path||"/placeholder.jpg",alt:e.title,class:"h-56 w-full object-cover"},null,8,z),o("div",A,[o("h2",E,p(e.title),1),o("p",I,p(e.location?.full_path_json?.[2]?.value||"Dubai"),1),o("p",S," AED "+p(e.price?.toLocaleString()),1)])],40,j))),128))])]))}},C=B(y,[["__scopeId","data-v-fe69627c"]]),N={class:"bg-{#212121} pt-16"},O={class:"flex items-start px-2"},Q={__name:"Maps",setup(h){return(r,i)=>{const n=x;return d(),c("section",N,[a(m),o("div",O,[a(b)]),a(m),a(n,null,{default:L(()=>[a(C)]),_:1}),a(m)])}}};export{Q as default};
