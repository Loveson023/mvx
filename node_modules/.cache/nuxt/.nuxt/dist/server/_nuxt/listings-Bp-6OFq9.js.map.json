{"file":"listings-Bp-6OFq9.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA,UAAM,EAAE,MAAM,SAAS,MAAA,KAAU,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM;AAAA,MACnC;AAAA,MAAA;AAAA,IACJ,CAAA;AACA,UAAMC,YAAW,SAAS,MAAM,MAAM,OAAO,QAAQ,EAAE;AAGvD,UAAM,gBAAgB,IAAI;AAAA,MACtB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,UAAU;AAAA,MACV,OAAO,CAAC,GAAG,GAAO;AAAA,IAAA,CACrB;AAGD,UAAM,eAAe,CAAC,YAAiB;AACnC,oBAAc,QAAQ;AAAA,IAC1B;AAGA,UAAM,YAAY,CAAC,QAAgB;AAC/B,UAAI,CAAC,OAAO,QAAQ,SAAS,QAAQ,MAAO,QAAO;AACnD,aAAO;AAAA,IACX;AAGA,UAAM,mBAAmB,SAAS,MAAM;AACpC,YAAM,OAAO,UAAU,cAAc,MAAM,IAAI;AAC/C,YAAM,WAAW,UAAU,cAAc,MAAM,QAAQ;AACvD,YAAM,WAAW,UAAU,cAAc,MAAM,QAAQ;AACvD,YAAM,QAAQ,cAAc,MAAM,SAAS,CAAC,GAAG,GAAQ;AAEvD,aAAOA,UAAS,MAAM,OAAO,CAAA,SAAQ;AACjC,cAAM,cAAc,CAAC,QAAQ,KAAK,aAAa;AAC/C,cAAM,kBAAkB,CAAC,YAAY,KAAK,UAAU,cAAc;AAClE,cAAM,cAAc,CAAC,YAAY,KAAK,KAAK,SAAS;AACpD,cAAM,eAAe,KAAK,SAAS,MAAM,CAAC,KAAK,KAAK,SAAS,MAAM,CAAC;AAEpE,eAAO,eAAe,mBAAmB,eAAe;AAAA,MAC5D,CAAC;AAAA,IACL,CAAC;;;AApKQ,YAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,gBAAY,MAAA,CAAA,CAAA,mBAAA;;;;;QAaH,UAAQ;AAAA,QAAe,MAAMF,UAAA;AAAA,MAAA;;UAKlCG,MAAA,OAAA,GAAO;;iBACFA,MAAA,KAAA,GAAK;;;;AAGOC,sBAAA,iBAAA,QAAZ,aAAQ;yJAGNC,cAAA,OAAK,SAAS,aAAa,aAAS,+BAAA,+MAGnCC,eAAA,SAAS,OAAO,iJAMhBA,eAAA,SAAS,KAAK;;YAGT,OAAM;AAAA,YAAU,OAAM;AAAA,YAAW,gBAAc;AAAA,UAAA;mFAEhD,SAAS,UAAU,SAAS,CAAA,uKAAA;;YAQvB,OAAM;AAAA,YAAW,gBAAc;AAAA,UAAA;iGAE5B,SAAS,OAAO,eAAA,CAAc,CAAA,mFAAA;;YAI9B,OAAM;AAAA,YAAW,gBAAc;AAAA,UAAA;AACN,gBAAA,oDAAAA,eAAA,SAAS,YAAQ,KAAA,CAAA,oJAAA;;YAM1C,OAAM;AAAA,YAAW,gBAAc;AAAA,UAAA;mFACN,SAAS,KAAK,QAAI,KAAA,CAAA,iGAAA;;YAGhD,OAAM;AAAA,YAAW,gBAAc;AAAA,UAAA;mFACD,SAAS,MAAM,QAAI,KAAA,CAAA,sEAAA;;YAG7C,OAAM;AAAA,YAAW,gBAAc;AAAA,UAAA;AAElC,gBAAA,oDAAAA,eAAA,SAAS,UAAU,CAAA,oGAAA;;YA+BnB,IAAE,aAAe,SAAS,IAAI;AAAA,YACrC,OAAM;AAAA,UAAA;6BADV,CAGW,GAAAC,QAAAC,UAAA,aAAA;;;;;kCAF+D,kBAE1E;AAAA,gBAAA;AAAA;;;;AACI,gBAAA,KAAAH,cAAA,QAAI,OAAS,SAAS,MAAM,MAAM,EAAA,CAAA,iDAAA;;YACvB,OAAM;AAAA,YAAU,OAAM;AAAA,YAAW,gBAAc;AAAA,UAAA;;;;;;;;;;;;;;;;","names":["_withAsyncContext","listings","_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderList","_ssrRenderAttr","_ssrInterpolate","_push","_parent"],"sources":["../../../../../../../app/pages/buy/listings.vue"],"sourcesContent":["<template>\r\n    <div class=\"px-8 py-16\">\r\n        <Divider />\r\n        <Breadcrumbs />\r\n        <!-- Header -->\r\n        <div class=\"px-6 py-8 text-center\">\r\n            <h1 class=\"text-3xl font-light uppercase text-gray-200 mb-2\">Dubai Luxury Properties</h1>\r\n            <p class=\"text-gray-500\">Explore exclusive listings and refined investments</p>\r\n        </div>\r\n\r\n        <!-- Filters Bar -->\r\n\r\n        <!-- Filters Section -->\r\n        <div class=\"px-6\">\r\n            <FilterTop @filter=\"applyFilters\" :data=\"listings\" />\r\n            <!-- <AllFilters :data=\"listings\" @apply=\"applyFilters\" /> -->\r\n        </div>\r\n\r\n        <!-- Listings -->\r\n        <div v-if=\"pending\" class=\"text-center text-gray-500 py-20\">Loading listings...</div>\r\n        <div v-else-if=\"error\" class=\"text-center text-red-500 py-20\">Failed to load listings.</div>\r\n\r\n        <div v-else class=\"grid gap-8 p-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n            <div v-for=\"property in filteredListings\" :key=\"property.id\"\r\n                class=\"rounded property_card transition overflow-hidden flex flex-col\">\r\n                <div class=\"relative\">\r\n                    <img :src=\"property.photos?.[0]?.full_path || '/images/properties/mavrix.jpg'\" alt=\"Property\"\r\n                        class=\"h-40 w-full object-cover hover:scale-0.95 transition\" />\r\n                    <span class=\"absolute top-3 right-3 property-badge text-white text-xs px-3 py-1 rounded-full\">\r\n                        {{ property.purpose }}\r\n                    </span>\r\n                </div>\r\n\r\n                <div class=\"p-5 flex flex-col flex-1\">\r\n                    <h2 class=\"text-lg font-light text-gray-200 line-clamp-2\">\r\n                        {{ property.title }}\r\n                    </h2>\r\n                    <div class=\"flex gap-2 items-center py-4\">\r\n                        <MapPin color=\"#c99171\" class=\"h-8 w-8\" :stroke-width=\"1\" />\r\n                        <p class=\"text-gray-400 text-sm\">\r\n                            {{ property.location?.full_path }}\r\n                        </p>\r\n                    </div>\r\n                    <!-- <p class=\"text-sm text-gray-500 mt-1\">\r\n            {{ property.location?.full_path }}\r\n          </p> -->\r\n                    <div class=\"flex gap-2 border-t border-b py-3 my-2 justify-between\">\r\n                        <div class=\"flex gap-2 px-2 align-middle items-center\">\r\n                            <Wallet class=\"h-6 w-6\" :stroke-width=\"1\" />\r\n                            <p class=\"text-md font-light text-mavrix\">\r\n                                AED {{ property.price?.toLocaleString() }}\r\n                            </p>\r\n                        </div>\r\n                        <div class=\"flex gap-2 px-2 align-middle items-center\">\r\n                            <Building2 class=\"h-6 w-6\" :stroke-width=\"1\" />\r\n                            <p class=\"text-xs text-gray-400\">{{ property.category || 'N/A' }}</p>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"flex gap-2 py-3\">\r\n                        <div class=\"flex gap-2 px-2  items-center border-r border-r-gray-600\">\r\n                            <BedDouble class=\"h-8 w-8\" :stroke-width=\"1\" />\r\n                            <p class=\"text-xs text-gray-400\">{{ property.bed?.name || 'N/A' }} </p>\r\n                        </div>\r\n                        <div class=\"flex gap-2 px-2 items-center border-r border-r-gray-600\">\r\n                            <Bath class=\"h-8 w-8\" :stroke-width=\"1\" />\r\n                            <p class=\"text-xs text-gray-400\">{{ property.bath?.name || 'N/A' }} </p>\r\n                        </div>\r\n                        <div class=\"flex gap-2 px-2 items-center\">\r\n                            <LandPlot class=\"h-8 w-8\" :stroke-width=\"1\" />\r\n                            <p class=\"text-xs text-gray-400\">\r\n                                {{ property.built_size }} Sq.Ft.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div class=\"mt-2 text-gray-700 text-sm\">\r\n            üõèÔ∏è {{ property.bed?.name || 'N/A' }} | üõÅ {{ property.bath?.name || 'N/A' }}\r\n            | üìè {{ property.built_size }} sq.ft\r\n          </div> -->\r\n\r\n                    <!-- <p class=\"mt-3 text-lg font-bold text-mavrix\">\r\n            AED {{ property.price?.toLocaleString() }}\r\n          </p> -->\r\n\r\n                    <!-- <div class=\"border-t mt-4 pt-3 text-xs text-gray-500 space-y-1\">\r\n            <p><strong>Permit:</strong> {{ property.permit_number }}</p>\r\n            <p><strong>Status:</strong> {{ property.completion_status }}</p>\r\n          </div> -->\r\n\r\n                    <!-- <div class=\"flex items-center gap-3 mt-4 border-t pt-3\">\r\n            <img\r\n              :src=\"property.user?.thumbnail_image_path || '/agent-placeholder.jpg'\"\r\n              alt=\"Agent\"\r\n              class=\"w-10 h-10 rounded-full object-cover\"\r\n             />\r\n             <div>\r\n              <p class=\"text-gray-800 font-medium text-sm\">{{ property.user?.name }}</p>\r\n              <p class=\"text-xs text-gray-500\">{{ property.user?.designation }}</p>\r\n            </div>\r\n          </div> -->\r\n\r\n                    <div class=\"flex justify-between gap-4 items-center mt-4\">\r\n                        <NuxtLink :to=\"`/listings/${property.uuid}`\"\r\n                            class=\"button-mavrix w-full text-center font-light uppercase text-sm\">\r\n                            View Details ‚Üí\r\n                        </NuxtLink>\r\n                        <a :href=\"`tel:${property.user?.mobile}`\" class=\"button-mavrix-outline\">\r\n                            <PhoneCall color=\"#c99171\" class=\"h-4 w-4\" :stroke-width=\"1\" />\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { MapPin, BedDouble, Bath, LandPlot, PhoneCall, Wallet, Building2 } from 'lucide-vue-next'\r\nimport { computed, ref } from 'vue'\r\nimport FilterTop from '~/components/properties/filters/FilterTop.vue'\r\nimport Breadcrumbs from '~/components/templates/breadcrumbs.vue'\r\nimport Divider from '~/components/templates/divider.vue'\r\n// import AllFilters from '~/components/properties/filters/AllFilters.vue'\r\n\r\n\r\n// Fetch listings from API\r\nconst { data, pending, error } = await useFetch(\r\n    'https://elist.solz.cloud/backend/api/external/external-listings?page=1&itemsPerPage=20'\r\n)\r\nconst listings = computed(() => data?.value?.data || [])\r\n\r\n// Reactive filter state\r\nconst activeFilters = ref({\r\n    type: '',\r\n    location: '',\r\n    bedrooms: '',\r\n    price: [0, 5000000],\r\n})\r\n\r\n// Update filters from child component\r\nconst applyFilters = (filters: any) => {\r\n    activeFilters.value = filters\r\n}\r\n\r\n// Normalize helper for ‚ÄúAll‚Äù or ‚ÄúAny‚Äù\r\nconst normalize = (val: string) => {\r\n    if (!val || val === 'All' || val === 'Any') return null\r\n    return val\r\n}\r\n\r\n// Computed filtered listings\r\nconst filteredListings = computed(() => {\r\n    const type = normalize(activeFilters.value.type)\r\n    const location = normalize(activeFilters.value.location)\r\n    const bedrooms = normalize(activeFilters.value.bedrooms)\r\n    const price = activeFilters.value.price || [0, 10000000]\r\n\r\n    return listings.value.filter(item => {\r\n        const matchesType = !type || item.category === type\r\n        const matchesLocation = !location || item.location?.full_path === location\r\n        const matchesBeds = !bedrooms || item.bed?.name === bedrooms\r\n        const matchesPrice = item.price >= price[0] && item.price <= price[1]\r\n\r\n        return matchesType && matchesLocation && matchesBeds && matchesPrice\r\n    })\r\n})\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.line-clamp-2 {\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n    overflow: hidden;\r\n}\r\n</style>\r\n"],"version":3}