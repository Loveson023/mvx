import{a as o}from"./R-lXtGyY.js";const s="https://elist.solz.cloud/backend/api/external/external-listings";async function i(e={}){try{const t={page:typeof e.page=="number"?e.page:1,itemsPerPage:typeof e.itemsPerPage=="number"?e.itemsPerPage:20,sortBy:e.sortBy||"",orderBy:e.orderBy||"",searchTerm:e.searchTerm||"",type:e.type||"",location:e.location||"",bedrooms:e.bedrooms||"",minPrice:e.minPrice||"",maxPrice:e.maxPrice||"",category:e.category||"",purpose:e.purpose||"",amenities:e.amenities||""};console.log("Fetching listings with params:",t);const{data:r}=await o.get(s,{params:t});return r}catch(t){return console.error("Error fetching listings:",t),{data:[]}}}async function a(e={}){try{const t=await o.get(`${s}?page=1&itemsPerPage=100`,{params:e});return t.data?.data||t.data?.listings||t.data||[]}catch(t){return console.error("Error fetching listings:",t),[]}}async function c(e){try{const r=(await o.get(`${s}?searchTerm=elist-${e}`)).data?.data||[];return console.log("Fetched from API:",r),r.length?r[0]:null}catch(t){return console.error("Error fetching property by ref:",t),null}}async function l(){try{const t=await(await fetch("https://elist.solz.cloud/backend/api/external/external-listings?page=1&itemsPerPage=20&sortBy=&orderBy=&searchTerm=")).json();return t.status===200&&Array.isArray(t.data)?t.data.map(r=>({...r,latitude:parseFloat(r.location?.latitude),longitude:parseFloat(r.location?.longitude)})):(console.error("Invalid API response:",t),[])}catch(e){return console.error("Error fetching listings:",e),[]}}export{c as a,i as b,a as c,l as g};
