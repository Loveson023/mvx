import{a2 as _}from"#entry";import{g as M,e as q,c as A}from"./8mOdQQrV.js";const D=_("/img_1.jpg");function C(e){const{effect:o,swiper:t,on:l,setTranslate:u,setTransition:r,overwriteParams:n,perspective:i,recreateShadows:s,getEffectParams:d}=e;l("beforeInit",()=>{if(t.params.effect!==o)return;t.classNames.push(`${t.params.containerModifierClass}${o}`),i&&i()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const h=n?n():{};Object.assign(t.params,h),Object.assign(t.originalParams,h)}),l("setTranslate _virtualUpdated",()=>{t.params.effect===o&&u()}),l("setTransition",(h,f)=>{t.params.effect===o&&r(f)}),l("transitionEnd",()=>{if(t.params.effect===o&&s){if(!d||!d().slideShadows)return;t.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),s()}});let p;l("virtualUpdate",()=>{t.params.effect===o&&(t.slides.length||(p=!0),requestAnimationFrame(()=>{p&&t.slides&&t.slides.length&&(u(),p=!1)}))})}function j(e,o){const t=M(o);return t!==o&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function N({swiper:e,duration:o,transformElements:t,allSlides:l}){const{activeIndex:u}=e,r=n=>n.parentElement?n.parentElement:e.slides.find(s=>s.shadowRoot&&s.shadowRoot===n.parentNode);if(e.params.virtualTranslate&&o!==0){let n=!1,i;l?i=t:i=t.filter(s=>{const d=s.classList.contains("swiper-slide-transform")?r(s):s;return e.getSlideIndex(d)===u}),i.forEach(s=>{q(s,()=>{if(n||!e||e.destroyed)return;n=!0,e.animating=!1;const d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function U(e,o,t){const l=`swiper-slide-shadow${` swiper-slide-shadow-${e}`}`,u=M(o);let r=u.querySelector(`.${l.split(" ").join(".")}`);return r||(r=A("div",l.split(" ")),u.append(r)),r}function V({swiper:e,extendParams:o,on:t}){o({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),C({effect:"cards",swiper:e,on:t,setTranslate:()=>{const{slides:r,activeIndex:n,rtlTranslate:i}=e,s=e.params.cardsEffect,{startTranslate:d,isTouched:p}=e.touchEventsData,h=i?-e.translate:e.translate;for(let f=0;f<r.length;f+=1){const g=r[f],y=g.progress,a=Math.min(Math.max(y,-4),4);let E=g.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(E-=r[0].swiperSlideOffset);let m=e.params.cssMode?-E-e.translate:-E,S=0;const x=-100*Math.abs(a);let $=1,v=-s.perSlideRotate*a,T=s.perSlideOffset-Math.abs(a)*.75;const b=e.virtual&&e.params.virtual.enabled?e.virtual.from+f:f,w=(b===n||b===n-1)&&a>0&&a<1&&(p||e.params.cssMode)&&h<d,P=(b===n||b===n+1)&&a<0&&a>-1&&(p||e.params.cssMode)&&h>d;if(w||P){const c=(1-Math.abs((Math.abs(a)-.5)/.5))**.5;v+=-28*a*c,$+=-.5*c,T+=96*c,S=`${(s.rotate||e.isHorizontal()?-25:0)*c*Math.abs(a)}%`}if(a<0?m=`calc(${m}px ${i?"-":"+"} (${T*Math.abs(a)}%))`:a>0?m=`calc(${m}px ${i?"-":"+"} (-${T*Math.abs(a)}%))`:m=`${m}px`,!e.isHorizontal()){const c=S;S=m,m=c}const I=a<0?`${1+(1-$)*a}`:`${1-(1-$)*a}`,O=`
        translate3d(${m}, ${S}, ${x}px)
        rotateZ(${s.rotate?i?-v:v:0}deg)
        scale(${I})
      `;if(s.slideShadows){let c=g.querySelector(".swiper-slide-shadow");c||(c=U("cards",g)),c&&(c.style.opacity=Math.min(Math.max((Math.abs(a)-.5)/.5,0),1))}g.style.zIndex=-Math.abs(Math.round(y))+r.length;const R=j(s,g);R.style.transform=O}},setTransition:r=>{const n=e.slides.map(i=>M(i));n.forEach(i=>{i.style.transitionDuration=`${r}ms`,i.querySelectorAll(".swiper-slide-shadow").forEach(s=>{s.style.transitionDuration=`${r}ms`})}),N({swiper:e,duration:r,transformElements:n})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}export{V as E,D as _};
